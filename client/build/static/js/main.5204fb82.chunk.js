(this.webpackJsonptickmark=this.webpackJsonptickmark||[]).push([[0],{37:function(e,t,a){e.exports=a(80)},80:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),c=a.n(r),s=a(7),o=a(15),m=a(17),i=a(3),u=a(5),h=a(4),b=a(14),p=a(2),d=a(6),E=a(18),f=a.n(E),v=a(12),g=a.n(v),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(b.a)(e)),e.onSubmit=e.onSubmit.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){localStorage.usertoken&&this.props.history.push("/")}}]),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};console.log(a),function(e){return g.a.post("http://localhost:5000/login",{email:e.email,password:e.password}).then((function(e){return e.data.error||localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))}(a).then((function(e){e&&(e.error?alert(e.error):t.props.history.push("/profile"))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block"},"Sign in")))))}}]),t}(n.Component),y=a(10),k=function(e){var t=Object(n.useState)(),a=Object(y.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){localStorage.usertoken||e.history.push("/login")}),[]),l.a.createElement("div",{className:"container mt-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{className:"form-control ",type:"text",onChange:function(e){return c(e.target.value)}}),l.a.createElement(s.b,{to:"/student/test/"+r,className:"btn btn-success"},"Submit")))))},O=a(21),j=a.n(O),C=(a(68),function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(),m=Object(y.a)(s,2),i=m[0],u=m[1],h=Object(n.useState)(0),b=Object(y.a)(h,2),p=b[0],d=b[1],E=Object(n.useState)(0),f=Object(y.a)(E,2),v=f[0],N=f[1],k=Object(n.useState)([]),O=Object(y.a)(k,2),C=O[0],w=O[1],S=Object(n.useState)(0),x=Object(y.a)(S,2),_=x[0],D=x[1];Object(n.useEffect)((function(){localStorage.usertoken||e.history.push("/login")})),Object(n.useEffect)((function(){D(e.match.params.key),g.a.post("http://localhost:5000/protected/getQuestions",{key:e.match.params.key},{headers:{authorization:localStorage.usertoken}}).then((function(e){"Not Found"===e.data?(alert("Wrong Key"),N(-1)):(c(e.data),N(1))}))}),[]),Object(n.useEffect)((function(){u(r[p])}),[p,r]);var F=function(e){var t=C;t[p]=e.target.value,w(t),console.log(C)},A=p+1===r.length,T=0===p;return console.log(A,T),1===v?l.a.createElement("div",null,l.a.createElement("div",{className:"container my-2"},l.a.createElement("h4",null,l.a.createElement("b",null,"Question No. ",p+1)),"Q:- ",i.question,l.a.createElement("br",null),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"options",value:i.A,id:"a",onClick:F}),l.a.createElement("label",{className:"form-check-label"},i.A)),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"options",value:i.B,id:"b",onClick:F}),l.a.createElement("label",{className:"form-check-label"},i.B)),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"options",value:i.C,id:"c",onClick:F}),l.a.createElement("label",{className:"form-check-label"},i.C)),l.a.createElement("div",{className:"form-check mb-3"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"options",value:i.D,id:"d",onClick:F}),l.a.createElement("label",{className:"form-check-label"},i.D)),l.a.createElement("button",{className:"btn btn-sm btn-success mx-2",disabled:A,id:"next",onClick:function(e){p+1<r.length&&d(p+1)}},"next"),l.a.createElement("button",{className:"btn btn-sm btn-warning mx-2",disabled:T,id:"prev",onClick:function(){p-1>=0&&(d(p-1),u(r[p-1]))}},"prev"),l.a.createElement("button",{className:"btn btn-sm btn-danger mx-2",onClick:function(){var t=localStorage.usertoken,a=j()(t),n=a.first_name,l=a.last_name,r=a.email;(function(e,t,a){var n=t.first_name,l=t.last_name,r=t.email,c=t.score;return g.a.post("http://localhost:5000/submitTest",{f:n,l:l,e:r,s:e,k:a,score:c}).then((function(e){return e.data})).catch((function(e){console.log(e)}))})(C,{first_name:n,last_name:l,email:r,score:0},_).then((function(t){t.err?alert(t.err):(alert("Test Submitted"),e.history.push("/profile"))}))}},"Submit Test"))):0===v?l.a.createElement("h1",null,"Waiting"):l.a.createElement(o.a,{to:"/student"})}),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.removeItem("usertoken"),this.props.history.push("/")}},{key:"render",value:function(){var e=l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/login",className:"nav-link"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/register",className:"nav-link"},"Register"))),t=l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/profile",className:"nav-link"},"User")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/student",className:"nav-link"},"Test")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/teacher/create",className:"nav-link"},"Create Test")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/view",className:"nav-link"},"View Marks")),l.a.createElement("li",{className:"nav-item"}," ",l.a.createElement("a",{href:"",onClick:this.logOut.bind(this),className:"nav-link"},"Logout")));return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark rounded"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample10","aria-controls":"navbarsExample10","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse justify-content-md-center",id:"navbarsExample10"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/",className:"nav-link"},"Home"))),localStorage.usertoken?t:e))}}]),t}(n.Component),S=Object(o.g)(w),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={first_name:"",last_name:"",email:"",password:"",role:"",errors:{}},e.onChange=e.onChange.bind(Object(b.a)(e)),e.onSubmit=e.onSubmit.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){localStorage.usertoken&&(alert("User Already Logged In"),this.props.history.push("/"))}}]),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={first_name:this.state.first_name,last_name:this.state.last_name,email:this.state.email,password:this.state.password,role:this.state.role};(function(e){return g.a.post("http://localhost:5000/register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password,role:e.role}).then((function(e){return e.data}))})(a).then((function(e){e&&(e.error?alert(e.error):(console.log(a),t.props.history.push("/login")))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Register"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"First name"),l.a.createElement("input",{type:"text",className:"form-control",name:"first_name",placeholder:"Enter your first name",value:this.state.first_name,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Last name"),l.a.createElement("input",{type:"text",className:"form-control",name:"last_name",placeholder:"Enter your lastname name",value:this.state.last_name,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Admin"),l.a.createElement("input",{type:"radio",className:"form-control",name:"role",value:"admin",onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Normal User"),l.a.createElement("input",{type:"radio",className:"form-control",name:"role",value:"normal",onChange:this.onChange})),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block"},"Register!")))))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={first_name:"",last_name:"",email:"",errors:{}},e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.usertoken){t.next=6;break}alert("Please Log In First"),this.props.history.push("/login"),t.next=10;break;case 6:return t.next=8,f.a.awrap(f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.a.get("http://localhost:5000/protected/profile",{headers:{authorization:localStorage.usertoken}}).then((function(e){return e.data})).catch((function(e){if(403===e.response.status)return alert("You are not authorised"),e.response})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}})));case 8:"Forbidden"===(e=t.sent).data?this.props.history.push("/login"):this.setState({first_name:e.first_name,last_name:e.last_name,email:e.email});case 10:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron mt-5"},l.a.createElement("div",{className:"col-sm-8 mx-auto"},l.a.createElement("h1",{className:"text-center"},"PROFILE")),l.a.createElement("table",{className:"table col-md-6 mx-auto"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Fist Name"),l.a.createElement("td",null,this.state.first_name)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Name"),l.a.createElement("td",null,this.state.last_name)),l.a.createElement("tr",null,l.a.createElement("td",null,"Email"),l.a.createElement("td",null,this.state.email))))))}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron mt-5"},l.a.createElement("div",{className:"col-sm-8 mx-auto"},l.a.createElement("h1",{className:"text-center"},"WELCOME"))))}}]),t}(n.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){localStorage.usertoken||this.props.history.push("/login")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(s.b,{to:"/teacher/create"},l.a.createElement("button",null,"Create Test")),l.a.createElement(s.b,{to:"/teacher/view"},l.a.createElement("button",null,"View Marks")))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).readKey=function(t){e.setState({testKey:t.target.value})},e.changeHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e.addQuestion=function(){(function(e,t,a){return g.a.post("http://localhost:5000/protected/addQuestion",{q:e,a:t,k:a},{headers:{authorization:localStorage.usertoken}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))})({question:e.state.question,A:e.state.A,B:e.state.B,C:e.state.C,D:e.state.D},e.state.correctAnswer,e.state.testKey).then((function(t){t.error?(alert(t.error),e.props.history.push("/profile")):alert(t)}))},e.submitTest=function(){alert("Submitted"),e.props.history.push("/profile")},e.state={testKey:0,question:"",A:"",B:"",C:"",D:"",correctAnswer:""},e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.usertoken){var e=function(){var e=new Date,t=e.getDate().toString()+0+e.getDay()+e.getUTCFullYear()+e.getHours()+e.getMinutes()+e.getSeconds();return g.a.post("http://localhost:5000/protected/create",{testKey:t},{headers:{authorization:localStorage.usertoken}}).then((function(e){console.log(e)})),t}();this.setState({testKey:e})}else alert("Login First"),this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"col-6 offset-3"},l.a.createElement("label",null,l.a.createElement("b",null,"Test Key")),l.a.createElement("input",{type:"text",className:"form-control",value:this.state.testKey,onChange:this.readKey}),l.a.createElement("br",null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 offset-3"},l.a.createElement("label",null,l.a.createElement("b",null,"Enter Question")),l.a.createElement("textarea",{id:"question",className:"form-control",placeholder:"Enter Question...",onChange:this.changeHandler}),l.a.createElement("br",null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3 offset-3"},l.a.createElement("label",null,l.a.createElement("b",null,"A")),l.a.createElement("input",{className:"form-control",type:"text",id:"A",onChange:this.changeHandler}),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-3"},l.a.createElement("label",null,l.a.createElement("b",null,"B")),l.a.createElement("input",{className:"form-control",type:"text",id:"B",onChange:this.changeHandler}),l.a.createElement("br",null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3 offset-3"},l.a.createElement("label",null,l.a.createElement("b",null,"C")),l.a.createElement("input",{className:"form-control",type:"text",id:"C",onChange:this.changeHandler}),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-3"},l.a.createElement("label",null,l.a.createElement("b",null,"D")),l.a.createElement("input",{className:"form-control",type:"text",id:"D",onChange:this.changeHandler}),l.a.createElement("br",null))),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 offset-3"},l.a.createElement("label",null,l.a.createElement("b",null,"Correct Answer")),l.a.createElement("input",{type:"text",id:"correctAnswer",className:"form-control",onChange:this.changeHandler}))),l.a.createElement("div",{className:"row my-5"},l.a.createElement("div",{className:"col-2 offset-3"},l.a.createElement("button",{className:"btn btn-danger btn-block",onClick:this.addQuestion},"Add Question")),l.a.createElement("div",{className:"offset-2 col-2"},l.a.createElement("button",{className:"btn btn-block btn-success",onClick:this.submitTest},"Submit Test"))))}}]),t}(n.Component),T=function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(y.a)(s,2),m=o[0],i=o[1];Object(n.useEffect)((function(){localStorage.usertoken||e.history.push("/login")}));return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row my-2 d-flex"},l.a.createElement("div",{className:"col-5"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Your Key Here",onChange:function(e){return c(e.target.value)}}),l.a.createElement("button",{onClick:function(){(function(e){return g.a.post("http://localhost:5000/protected/getResult",{k:e},{headers:{authorization:localStorage.usertoken}}).then((function(e){return console.log(e),e.error?e.error:e.data})).catch((function(e){console.log(e)}))})(r).then((function(t){console.log(t),t.error?(alert(t.error),e.history.push("/")):(i(t),console.log(t))}))},className:"btn btn-sm my-1 btn-success"},"Submit")))),l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Score"))),m.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,e.first_name),l.a.createElement("td",null,e.last_name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.score))})))))},K=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("h1",null,"Path Not Found")}}]),t}(n.Component);var H=function(){return l.a.createElement(s.a,null,l.a.createElement(S,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",component:D}),l.a.createElement(o.b,{exact:!0,path:"/login",component:N}),l.a.createElement(o.b,{exact:!0,path:"/register",component:x}),l.a.createElement(o.b,{exact:!0,path:"/profile",component:_}),l.a.createElement(o.b,{exact:!0,path:"/student",component:k}),l.a.createElement(o.b,{exact:!0,path:"/student/test/:key",component:C}),l.a.createElement(o.b,{exact:!0,path:"/teacher",component:F}),l.a.createElement(o.b,{exact:!0,path:"/view",component:T}),l.a.createElement(o.b,{exact:!0,path:"/teacher/create",component:A}),l.a.createElement(o.b,{component:K})))};c.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5204fb82.chunk.js.map